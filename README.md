## Code repository for the paper 'Out-of-sample Prediction as Analytical Tool: An Application to the Study of Teacher Bias'

This repository contains all code used in the paper 'Out-of-sample Prediction as Analytical Tool: An Application to the Study of Teacher Bias'. Since the data used for this analysis is sensitive, only the code to produce the reported tables, plots and analyses is included in this repository.

### Structure of the code

The first set of scripts included in the `scr` folder includes scripts to reformat the data in an analysable format (scripts `00x_.*.R` up `until 02_.*.R`). The `03_desc_plots.R` script generates some descriptives of this dataset which are included in the paper. The in-sample analyses are done in the `03_analysis.R` script, with tabular output generated in the `03_tables.R` script.

Since prediction is a key component of the paper, I then commence to run various Monte-Carlo simulations where I estimate models on an estimation set and evaluate their predictive performance on the evaluation set. To guard against results being driven by a specific split of the data into estimation- and evaluation-set I rerun these analyses with 250 different seeds. The scripts `04_simulation_.*.R` contain these analyses (for a full list of the simulation scripts and their outputs, see the `simul_list.md` file).

All predictive as well as in-sample analysis is visualised throughout the paper in various plots, these are generated by calling the `05_res_plots.R` script.

Although the `data` folder is empty, the local structure is maintained to illustrate how the various scripts are used to analyse the data. Note that the final output (various plots and tables) are included in the repository as well, specifically in the `tex` folder.

<!-- The repository follows the following overall structure:

├── data
│ ├── raw
│ ├── edit
│ ├── results
│ ├── simulations
├── src
│ ├── 001_pupils.R
│ ├── 002_cito.R
│ ├── 003_schools.R
│ ├── 01_merge.R
│ ├── 02_gen_dep_var.R
│ ├── 03_analysis.R
│ ├── 03_tables.R
│ ├── 03_desc_plots.R
│ ├── 04_simulation_a.R
│ ├── 04_simulation_b.R
│ ├── 04_simulation_c.R
│ ├── 04_simulation_d.R
│ ├── 04_simulation_e.R
│ ├── 04_simulation_f.R
│ ├── 05_res_plots.R
├── tex
│ ├── plots
│ │ ├── fig_desc_0.pdf
│ │ ├── fig_desc_1.pdf
│ │ ├── fig_desc_2.pdf
│ │ ├── fig_res_1.pdf
│ │ ├── fig_res_2.pdf
│ │ ├── fig_res_3.pdf
│ │ ├── fig_res_4.pdf
│ │ ├── fig_res_5.pdf
│ ├── tables
│ │ ├── table_desc_1.tex
│ │ ├── table_res_1.tex
│ │ ├── table_res_2.tex -->
